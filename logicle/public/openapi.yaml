openapi: 3.0.3
info:
  title: "@logicleai/logicle"
  version: 0.26-snapshot
paths:
  /api/analytics/activity/byuser:
    get:
      summary: Get activity by user
      description: Fetch user activity aggregates for a given period.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    userId:
                      anyOf:
                        - type: string
                        - type: "null"
                    name:
                      anyOf:
                        - type: string
                        - type: "null"
                    tokens:
                      type: number
                    messages:
                      type: number
                  required:
                    - userId
                    - name
                    - tokens
                    - messages
                  additionalProperties: false
        "400":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
  /api/analytics/activity:
    get:
      summary: Get activity summary
      description: Fetch activity summary for a given period.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  users:
                    type: number
                  messages:
                    type: number
                  conversations:
                    type: number
                required:
                  - users
                  - messages
                  - conversations
                additionalProperties: false
        "400":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
  /api/analytics/usage:
    get:
      summary: Get usage
      description: Fetch usage aggregates for a given period.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  period:
                    type: string
                    enum:
                      - last_week
                      - last_month
                      - last_year
                      - custom
                  granularity:
                    type: string
                    enum:
                      - hour
                      - day
                      - week
                      - month
                  from:
                    type: string
                  to:
                    type: string
                  buckets:
                    type: array
                    items:
                      type: object
                      properties:
                        start:
                          type: string
                        end:
                          type: string
                        tokens:
                          type: number
                        messages:
                          type: number
                      required:
                        - start
                        - end
                        - tokens
                        - messages
                      additionalProperties: false
                required:
                  - period
                  - granularity
                  - from
                  - to
                  - buckets
                additionalProperties: false
        "400":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
  /api/assistants/{assistantId}/clone:
    post:
      summary: Clone assistant
      description: Clone a published assistant.
      responses:
        "201":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/assistants/{assistantId}/history:
    get:
      summary: List assistant versions
      description: Fetch version history for an assistant.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    assistantId:
                      type: string
                    backendId:
                      type: string
                    description:
                      type: string
                    imageId:
                      anyOf:
                        - type: string
                        - type: "null"
                    model:
                      type: string
                    name:
                      type: string
                    systemPrompt:
                      type: string
                    temperature:
                      type: number
                    tokenLimit:
                      type: number
                    reasoning_effort:
                      anyOf:
                        - type: string
                          enum:
                            - low
                            - medium
                            - high
                        - type: "null"
                    tags:
                      type: string
                    prompts:
                      type: string
                    createdAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    updatedAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    current:
                      type: boolean
                    published:
                      type: boolean
                  required:
                    - id
                    - assistantId
                    - backendId
                    - description
                    - imageId
                    - model
                    - name
                    - systemPrompt
                    - temperature
                    - tokenLimit
                    - reasoning_effort
                    - tags
                    - prompts
                    - createdAt
                    - updatedAt
                    - current
                    - published
                  additionalProperties: false
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/assistants/{assistantId}/publish:
    post:
      summary: Publish assistant
      description: Publish an assistant draft.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema: {}
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/assistants/{assistantId}/reset-draft:
    post:
      summary: Reset assistant draft
      description: Reset draft to the last published version.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  assistantId:
                    type: string
                  backendId:
                    type: string
                  description:
                    type: string
                  model:
                    type: string
                  name:
                    type: string
                  systemPrompt:
                    type: string
                  temperature:
                    type: number
                  tokenLimit:
                    type: number
                  reasoning_effort:
                    anyOf:
                      - type: string
                        enum:
                          - low
                          - medium
                          - high
                      - type: "null"
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  updatedAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  owner:
                    type: string
                  tools:
                    type: array
                    items:
                      type: string
                  files:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                        size:
                          type: number
                      required:
                        - id
                        - name
                        - type
                        - size
                      additionalProperties: false
                  sharing:
                    type: array
                    items:
                      oneOf:
                        - type: object
                          properties:
                            type:
                              type: string
                              const: all
                          required:
                            - type
                          additionalProperties: false
                        - type: object
                          properties:
                            type:
                              type: string
                              const: workspace
                            workspaceId:
                              type: string
                            workspaceName:
                              type: string
                          required:
                            - type
                            - workspaceId
                            - workspaceName
                          additionalProperties: false
                  tags:
                    type: array
                    items:
                      type: string
                  prompts:
                    type: array
                    items:
                      type: string
                  iconUri:
                    anyOf:
                      - type: string
                      - type: "null"
                  provisioned:
                    type: boolean
                  pendingChanges:
                    type: boolean
                required:
                  - id
                  - assistantId
                  - backendId
                  - description
                  - model
                  - name
                  - systemPrompt
                  - temperature
                  - tokenLimit
                  - reasoning_effort
                  - createdAt
                  - updatedAt
                  - owner
                  - tools
                  - files
                  - sharing
                  - tags
                  - prompts
                  - iconUri
                  - provisioned
                  - pendingChanges
                additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/assistants/{assistantId}:
    get:
      summary: Get assistant draft
      description: Fetch assistant draft details.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  assistantId:
                    type: string
                  backendId:
                    type: string
                  description:
                    type: string
                  model:
                    type: string
                  name:
                    type: string
                  systemPrompt:
                    type: string
                  temperature:
                    type: number
                  tokenLimit:
                    type: number
                  reasoning_effort:
                    anyOf:
                      - type: string
                        enum:
                          - low
                          - medium
                          - high
                      - type: "null"
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  updatedAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  owner:
                    type: string
                  tools:
                    type: array
                    items:
                      type: string
                  files:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                        size:
                          type: number
                      required:
                        - id
                        - name
                        - type
                        - size
                      additionalProperties: false
                  sharing:
                    type: array
                    items:
                      oneOf:
                        - type: object
                          properties:
                            type:
                              type: string
                              const: all
                          required:
                            - type
                          additionalProperties: false
                        - type: object
                          properties:
                            type:
                              type: string
                              const: workspace
                            workspaceId:
                              type: string
                            workspaceName:
                              type: string
                          required:
                            - type
                            - workspaceId
                            - workspaceName
                          additionalProperties: false
                  tags:
                    type: array
                    items:
                      type: string
                  prompts:
                    type: array
                    items:
                      type: string
                  iconUri:
                    anyOf:
                      - type: string
                      - type: "null"
                  provisioned:
                    type: boolean
                  pendingChanges:
                    type: boolean
                required:
                  - id
                  - assistantId
                  - backendId
                  - description
                  - model
                  - name
                  - systemPrompt
                  - temperature
                  - tokenLimit
                  - reasoning_effort
                  - createdAt
                  - updatedAt
                  - owner
                  - tools
                  - files
                  - sharing
                  - tags
                  - prompts
                  - iconUri
                  - provisioned
                  - pendingChanges
                additionalProperties: false
        "400":
          $ref: "#/components/responses/Error"
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    delete:
      summary: Delete assistant
      description: Delete an assistant.
      responses:
        "204":
          description: Response
        "401":
          $ref: "#/components/responses/Error"
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    patch:
      summary: Update assistant draft
      description: Update assistant draft data.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                backendId:
                  type: string
                description:
                  type: string
                model:
                  type: string
                name:
                  type: string
                systemPrompt:
                  type: string
                temperature:
                  type: number
                tokenLimit:
                  type: number
                reasoning_effort:
                  anyOf:
                    - type: string
                      enum:
                        - low
                        - medium
                        - high
                    - type: "null"
                tools:
                  type: array
                  items:
                    type: string
                files:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      type:
                        type: string
                      size:
                        type: number
                    required:
                      - id
                      - name
                      - type
                      - size
                    additionalProperties: false
                tags:
                  type: array
                  items:
                    type: string
                prompts:
                  type: array
                  items:
                    type: string
                iconUri:
                  anyOf:
                    - type: string
                    - type: "null"
              additionalProperties: false
  /api/assistants/{assistantId}/sharing:
    post:
      summary: Update assistant sharing
      description: Update sharing configuration for an assistant.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  oneOf:
                    - type: object
                      properties:
                        type:
                          type: string
                          const: all
                      required:
                        - type
                      additionalProperties: false
                    - type: object
                      properties:
                        type:
                          type: string
                          const: workspace
                        workspaceId:
                          type: string
                        workspaceName:
                          type: string
                      required:
                        - type
                        - workspaceId
                        - workspaceName
                      additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                oneOf:
                  - type: object
                    properties:
                      type:
                        type: string
                        const: all
                    required:
                      - type
                    additionalProperties: false
                  - type: object
                    properties:
                      type:
                        type: string
                        const: workspace
                      workspaceId:
                        type: string
                      workspaceName:
                        type: string
                    required:
                      - type
                      - workspaceId
                      - workspaceName
                    additionalProperties: false
  /api/assistants/drafts/{assistantVersionId}:
    get:
      summary: Get assistant draft by version
      description: Fetch draft for a specific assistant version.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  assistantId:
                    type: string
                  backendId:
                    type: string
                  description:
                    type: string
                  model:
                    type: string
                  name:
                    type: string
                  systemPrompt:
                    type: string
                  temperature:
                    type: number
                  tokenLimit:
                    type: number
                  reasoning_effort:
                    anyOf:
                      - type: string
                        enum:
                          - low
                          - medium
                          - high
                      - type: "null"
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  updatedAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  owner:
                    type: string
                  tools:
                    type: array
                    items:
                      type: string
                  files:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                        size:
                          type: number
                      required:
                        - id
                        - name
                        - type
                        - size
                      additionalProperties: false
                  sharing:
                    type: array
                    items:
                      oneOf:
                        - type: object
                          properties:
                            type:
                              type: string
                              const: all
                          required:
                            - type
                          additionalProperties: false
                        - type: object
                          properties:
                            type:
                              type: string
                              const: workspace
                            workspaceId:
                              type: string
                            workspaceName:
                              type: string
                          required:
                            - type
                            - workspaceId
                            - workspaceName
                          additionalProperties: false
                  tags:
                    type: array
                    items:
                      type: string
                  prompts:
                    type: array
                    items:
                      type: string
                  iconUri:
                    anyOf:
                      - type: string
                      - type: "null"
                  provisioned:
                    type: boolean
                  pendingChanges:
                    type: boolean
                required:
                  - id
                  - assistantId
                  - backendId
                  - description
                  - model
                  - name
                  - systemPrompt
                  - temperature
                  - tokenLimit
                  - reasoning_effort
                  - createdAt
                  - updatedAt
                  - owner
                  - tools
                  - files
                  - sharing
                  - tags
                  - prompts
                  - iconUri
                  - provisioned
                  - pendingChanges
                additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: assistantVersionId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/assistants/evaluate:
    post:
      summary: Evaluate assistant
      description: Evaluate an assistant draft with a message list.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema: {}
        "400":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                assistant:
                  type: object
                  properties:
                    id:
                      type: string
                    assistantId:
                      type: string
                    backendId:
                      type: string
                    description:
                      type: string
                    model:
                      type: string
                    name:
                      type: string
                    systemPrompt:
                      type: string
                    temperature:
                      type: number
                    tokenLimit:
                      type: number
                    reasoning_effort:
                      anyOf:
                        - type: string
                          enum:
                            - low
                            - medium
                            - high
                        - type: "null"
                    createdAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    updatedAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    owner:
                      type: string
                    tools:
                      type: array
                      items:
                        type: string
                    files:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                          name:
                            type: string
                          type:
                            type: string
                          size:
                            type: number
                        required:
                          - id
                          - name
                          - type
                          - size
                        additionalProperties: false
                    sharing:
                      type: array
                      items:
                        oneOf:
                          - type: object
                            properties:
                              type:
                                type: string
                                const: all
                            required:
                              - type
                            additionalProperties: false
                          - type: object
                            properties:
                              type:
                                type: string
                                const: workspace
                              workspaceId:
                                type: string
                              workspaceName:
                                type: string
                            required:
                              - type
                              - workspaceId
                              - workspaceName
                            additionalProperties: false
                    tags:
                      type: array
                      items:
                        type: string
                    prompts:
                      type: array
                      items:
                        type: string
                    iconUri:
                      anyOf:
                        - type: string
                        - type: "null"
                    provisioned:
                      type: boolean
                    pendingChanges:
                      type: boolean
                  required:
                    - id
                    - assistantId
                    - backendId
                    - description
                    - model
                    - name
                    - systemPrompt
                    - temperature
                    - tokenLimit
                    - reasoning_effort
                    - createdAt
                    - updatedAt
                    - owner
                    - tools
                    - files
                    - sharing
                    - tags
                    - prompts
                    - iconUri
                    - provisioned
                    - pendingChanges
                  additionalProperties: false
                messages:
                  type: array
                  items: {}
              required:
                - assistant
                - messages
              additionalProperties: false
  /api/assistants:
    get:
      summary: List assistants
      description: List all assistants.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema: {}
      security:
        - bearerAuth: []
    post:
      summary: Create assistant
      description: Create a new assistant draft.
      responses:
        "201":
          description: Response
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                backendId:
                  type: string
                description:
                  type: string
                model:
                  type: string
                name:
                  type: string
                systemPrompt:
                  type: string
                temperature:
                  type: number
                tokenLimit:
                  type: number
                reasoning_effort:
                  anyOf:
                    - type: string
                      enum:
                        - low
                        - medium
                        - high
                    - type: "null"
                tools:
                  type: array
                  items:
                    type: string
                files:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      type:
                        type: string
                      size:
                        type: number
                    required:
                      - id
                      - name
                      - type
                      - size
                    additionalProperties: false
                tags:
                  type: array
                  items:
                    type: string
                prompts:
                  type: array
                  items:
                    type: string
                iconUri:
                  anyOf:
                    - type: string
                    - type: "null"
              required:
                - backendId
                - description
                - model
                - name
                - systemPrompt
                - temperature
                - tokenLimit
                - reasoning_effort
                - tools
                - files
                - tags
                - prompts
                - iconUri
              additionalProperties: false
  /api/assistants/tags:
    get:
      summary: List assistant tags
      description: List available assistant tag suggestions for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      security:
        - bearerAuth: []
  /api/auth/join:
    post:
      summary: Signup
      description: Create a new user account.
      responses:
        "201":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                email:
                  type: string
                  format: email
                  pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
                password:
                  type: string
              required:
                - name
                - email
                - password
              additionalProperties: false
  /api/auth/login:
    post:
      summary: Login
      description: Authenticate with email and password.
      responses:
        "204":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
        "401":
          $ref: "#/components/responses/Error"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
                password:
                  type: string
              required:
                - email
                - password
              additionalProperties: false
  /api/auth/logout:
    post:
      summary: Logout
      description: Clear the session cookie.
      responses:
        "204":
          description: Response
  /api/auth/refresh:
    post:
      summary: Refresh Session
      description: Refresh session cookie.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  expiresAt:
                    type: string
                required:
                  - expiresAt
                additionalProperties: false
      security:
        - bearerAuth: []
  /api/auth/saml/login:
    get:
      summary: SAML login redirect
      description: Initiate login against an IdP connection.
      responses:
        "302":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
  /api/auth/sessions/{sessionId}:
    delete:
      summary: Delete session
      description: Delete an active session owned by the current user.
      responses:
        "204":
          description: Response
        "404":
          $ref: "#/components/responses/Error"
        "409":
          $ref: "#/components/responses/Error"
      parameters:
        - name: sessionId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/auth/sessions:
    get:
      summary: List my sessions
      description: Fetch active sessions for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    createdAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    expiresAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    lastSeenAt:
                      anyOf:
                        - type: string
                          format: date-time
                          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                        - type: "null"
                    userAgent:
                      anyOf:
                        - type: string
                        - type: "null"
                    ipAddress:
                      anyOf:
                        - type: string
                        - type: "null"
                    authMethod:
                      type: string
                      enum:
                        - password
                        - idp
                    idpConnectionId:
                      anyOf:
                        - type: string
                        - type: "null"
                    isCurrent:
                      type: boolean
                  required:
                    - id
                    - createdAt
                    - expiresAt
                    - lastSeenAt
                    - userAgent
                    - ipAddress
                    - authMethod
                    - idpConnectionId
                    - isCurrent
                  additionalProperties: false
      security:
        - bearerAuth: []
  /api/backends/{backendId}/models:
    get:
      summary: List models for backend
      description: List available models for a backend.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    providerType:
                      type: string
                  required:
                    - id
                    - name
                    - providerType
                  additionalProperties: false
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: backendId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/backends/{backendId}:
    get:
      summary: Get backend
      description: Fetch a backend by id.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                oneOf:
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: openai
                      name:
                        type: string
                        minLength: 2
                      apiKey:
                        type: string
                        minLength: 2
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - apiKey
                      - id
                      - provisioned
                    additionalProperties: false
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: anthropic
                      name:
                        type: string
                        minLength: 2
                      apiKey:
                        type: string
                        minLength: 2
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - apiKey
                      - id
                      - provisioned
                    additionalProperties: false
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: logiclecloud
                      name:
                        type: string
                        minLength: 2
                      apiKey:
                        type: string
                        minLength: 2
                      endPoint:
                        type: string
                        format: uri
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - apiKey
                      - endPoint
                      - id
                      - provisioned
                    additionalProperties: false
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: gcp-vertex
                      name:
                        type: string
                        minLength: 2
                      credentials:
                        type: string
                        minLength: 2
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - credentials
                      - id
                      - provisioned
                    additionalProperties: false
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: perplexity
                      name:
                        type: string
                        minLength: 2
                      apiKey:
                        type: string
                        minLength: 2
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - apiKey
                      - id
                      - provisioned
                    additionalProperties: false
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: gemini
                      name:
                        type: string
                        minLength: 2
                      apiKey:
                        type: string
                        minLength: 2
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - apiKey
                      - id
                      - provisioned
                    additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: backendId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    delete:
      summary: Delete backend
      description: Delete a backend configuration.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
        "409":
          $ref: "#/components/responses/Error"
      parameters:
        - name: backendId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    patch:
      summary: Update backend
      description: Update an existing backend configuration.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: backendId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: openai
                    name:
                      type: string
                      minLength: 2
                    apiKey:
                      type: string
                      minLength: 2
                  required:
                    - providerType
                  additionalProperties: false
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: anthropic
                    name:
                      type: string
                      minLength: 2
                    apiKey:
                      type: string
                      minLength: 2
                  required:
                    - providerType
                  additionalProperties: false
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: logiclecloud
                    name:
                      type: string
                      minLength: 2
                    apiKey:
                      type: string
                      minLength: 2
                    endPoint:
                      type: string
                      format: uri
                  required:
                    - providerType
                  additionalProperties: false
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: gcp-vertex
                    name:
                      type: string
                      minLength: 2
                    credentials:
                      type: string
                      minLength: 2
                  required:
                    - providerType
                  additionalProperties: false
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: perplexity
                    name:
                      type: string
                      minLength: 2
                    apiKey:
                      type: string
                      minLength: 2
                  required:
                    - providerType
                  additionalProperties: false
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: gemini
                    name:
                      type: string
                      minLength: 2
                    apiKey:
                      type: string
                      minLength: 2
                  required:
                    - providerType
                  additionalProperties: false
  /api/backends/models:
    get:
      summary: List backends with models
      description: List backends and their models.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    backendId:
                      type: string
                    backendName:
                      type: string
                    models:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                          model:
                            type: string
                          name:
                            type: string
                          provider:
                            type: string
                          owned_by:
                            type: string
                          description:
                            type: string
                          context_length:
                            type: number
                          capabilities:
                            type: object
                            properties:
                              vision:
                                type: boolean
                              function_calling:
                                type: boolean
                              reasoning:
                                type: boolean
                              supportedMedia:
                                type: array
                                items:
                                  type: string
                              web_search:
                                type: boolean
                              knowledge:
                                type: boolean
                            required:
                              - vision
                              - function_calling
                              - reasoning
                            additionalProperties: false
                          defaultReasoning:
                            anyOf:
                              - type: string
                              - type: "null"
                          tags:
                            type: array
                            items:
                              type: string
                              enum:
                                - latest
                                - obsolete
                          maxOutputTokens:
                            type: number
                        required:
                          - id
                          - model
                          - name
                          - provider
                          - owned_by
                          - description
                          - context_length
                          - capabilities
                        additionalProperties: false
                  required:
                    - backendId
                    - backendName
                    - models
                  additionalProperties: false
      security:
        - bearerAuth: []
  /api/backends:
    get:
      summary: List backends
      description: List available backends (without secrets).
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  oneOf:
                    - type: object
                      properties:
                        providerType:
                          type: string
                          const: openai
                        name:
                          type: string
                          minLength: 2
                        apiKey:
                          type: string
                          minLength: 2
                        id:
                          type: string
                        provisioned:
                          type: boolean
                      required:
                        - providerType
                        - name
                        - apiKey
                        - id
                        - provisioned
                      additionalProperties: false
                    - type: object
                      properties:
                        providerType:
                          type: string
                          const: anthropic
                        name:
                          type: string
                          minLength: 2
                        apiKey:
                          type: string
                          minLength: 2
                        id:
                          type: string
                        provisioned:
                          type: boolean
                      required:
                        - providerType
                        - name
                        - apiKey
                        - id
                        - provisioned
                      additionalProperties: false
                    - type: object
                      properties:
                        providerType:
                          type: string
                          const: logiclecloud
                        name:
                          type: string
                          minLength: 2
                        apiKey:
                          type: string
                          minLength: 2
                        endPoint:
                          type: string
                          format: uri
                        id:
                          type: string
                        provisioned:
                          type: boolean
                      required:
                        - providerType
                        - name
                        - apiKey
                        - endPoint
                        - id
                        - provisioned
                      additionalProperties: false
                    - type: object
                      properties:
                        providerType:
                          type: string
                          const: gcp-vertex
                        name:
                          type: string
                          minLength: 2
                        credentials:
                          type: string
                          minLength: 2
                        id:
                          type: string
                        provisioned:
                          type: boolean
                      required:
                        - providerType
                        - name
                        - credentials
                        - id
                        - provisioned
                      additionalProperties: false
                    - type: object
                      properties:
                        providerType:
                          type: string
                          const: perplexity
                        name:
                          type: string
                          minLength: 2
                        apiKey:
                          type: string
                          minLength: 2
                        id:
                          type: string
                        provisioned:
                          type: boolean
                      required:
                        - providerType
                        - name
                        - apiKey
                        - id
                        - provisioned
                      additionalProperties: false
                    - type: object
                      properties:
                        providerType:
                          type: string
                          const: gemini
                        name:
                          type: string
                          minLength: 2
                        apiKey:
                          type: string
                          minLength: 2
                        id:
                          type: string
                        provisioned:
                          type: boolean
                      required:
                        - providerType
                        - name
                        - apiKey
                        - id
                        - provisioned
                      additionalProperties: false
      security:
        - bearerAuth: []
    post:
      summary: Create backend
      description: Create a new backend configuration.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                oneOf:
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: openai
                      name:
                        type: string
                        minLength: 2
                      apiKey:
                        type: string
                        minLength: 2
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - apiKey
                      - id
                      - provisioned
                    additionalProperties: false
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: anthropic
                      name:
                        type: string
                        minLength: 2
                      apiKey:
                        type: string
                        minLength: 2
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - apiKey
                      - id
                      - provisioned
                    additionalProperties: false
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: logiclecloud
                      name:
                        type: string
                        minLength: 2
                      apiKey:
                        type: string
                        minLength: 2
                      endPoint:
                        type: string
                        format: uri
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - apiKey
                      - endPoint
                      - id
                      - provisioned
                    additionalProperties: false
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: gcp-vertex
                      name:
                        type: string
                        minLength: 2
                      credentials:
                        type: string
                        minLength: 2
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - credentials
                      - id
                      - provisioned
                    additionalProperties: false
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: perplexity
                      name:
                        type: string
                        minLength: 2
                      apiKey:
                        type: string
                        minLength: 2
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - apiKey
                      - id
                      - provisioned
                    additionalProperties: false
                  - type: object
                    properties:
                      providerType:
                        type: string
                        const: gemini
                      name:
                        type: string
                        minLength: 2
                      apiKey:
                        type: string
                        minLength: 2
                      id:
                        type: string
                      provisioned:
                        type: boolean
                    required:
                      - providerType
                      - name
                      - apiKey
                      - id
                      - provisioned
                    additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "500":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: openai
                    name:
                      type: string
                      minLength: 2
                    apiKey:
                      type: string
                      minLength: 2
                  required:
                    - providerType
                    - name
                    - apiKey
                  additionalProperties: false
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: anthropic
                    name:
                      type: string
                      minLength: 2
                    apiKey:
                      type: string
                      minLength: 2
                  required:
                    - providerType
                    - name
                    - apiKey
                  additionalProperties: false
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: logiclecloud
                    name:
                      type: string
                      minLength: 2
                    apiKey:
                      type: string
                      minLength: 2
                    endPoint:
                      type: string
                      format: uri
                  required:
                    - providerType
                    - name
                    - apiKey
                    - endPoint
                  additionalProperties: false
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: gcp-vertex
                    name:
                      type: string
                      minLength: 2
                    credentials:
                      type: string
                      minLength: 2
                  required:
                    - providerType
                    - name
                    - credentials
                  additionalProperties: false
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: perplexity
                    name:
                      type: string
                      minLength: 2
                    apiKey:
                      type: string
                      minLength: 2
                  required:
                    - providerType
                    - name
                    - apiKey
                  additionalProperties: false
                - type: object
                  properties:
                    providerType:
                      type: string
                      const: gemini
                    name:
                      type: string
                      minLength: 2
                    apiKey:
                      type: string
                      minLength: 2
                  required:
                    - providerType
                    - name
                    - apiKey
                  additionalProperties: false
  /api/chat:
    post:
      summary: Chat
      description: Send a message to a conversation and stream assistant response.
      responses:
        "200":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
        "403":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              additionalProperties: {}
  /api/conversations/{conversationId}/messages/{messageId}:
    delete:
      summary: Delete conversation message
      description: Delete a message from a conversation.
      responses:
        "204":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
        "500":
          $ref: "#/components/responses/Error"
      parameters:
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
        - name: messageId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/conversations/{conversationId}/messages:
    get:
      summary: List messages in conversation
      description: Get messages for a conversation (owned by the session user).
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  additionalProperties: {}
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    delete:
      summary: Delete messages in conversation
      description: Delete messages by id within a conversation (owned by the session user).
      responses:
        "204":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/conversations/{conversationId}:
    get:
      summary: Get conversation
      description: Fetch a conversation with messages by id.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  assistantId:
                    type: string
                  id:
                    type: string
                  name:
                    type: string
                  ownerId:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  lastMsgSentAt:
                    anyOf:
                      - type: string
                        format: date-time
                        pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                      - type: "null"
                required:
                  - assistantId
                  - id
                  - name
                  - ownerId
                  - createdAt
                  - lastMsgSentAt
                additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    delete:
      summary: Delete conversation
      description: Delete a conversation by id.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    patch:
      summary: Update conversation
      description: Update a conversation by id.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                required:
                  - id
                additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
              additionalProperties: false
  /api/conversations/{conversationId}/share:
    get:
      summary: List conversation shares
      description: List share links for a conversation.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    lastMessageId:
                      type: string
                  required:
                    - id
                    - lastMessageId
                  additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
        "500":
          $ref: "#/components/responses/Error"
      parameters:
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    post:
      summary: Create conversation share
      description: Create a share link for a conversation.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  lastMessageId:
                    type: string
                required:
                  - id
                  - lastMessageId
                additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
        "500":
          $ref: "#/components/responses/Error"
      parameters:
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    patch:
      summary: Update conversation share last message
      description: Update share links to point to latest message.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
        "500":
          $ref: "#/components/responses/Error"
      parameters:
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/conversations:
    get:
      summary: List conversations
      description: Fetch all conversations for the session user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    assistantId:
                      type: string
                    id:
                      type: string
                    name:
                      type: string
                    ownerId:
                      type: string
                    createdAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    lastMsgSentAt:
                      anyOf:
                        - type: string
                          format: date-time
                          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                        - type: "null"
                    folderId:
                      anyOf:
                        - type: string
                        - type: "null"
                    assistant:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        iconUri:
                          anyOf:
                            - type: string
                            - type: "null"
                      required:
                        - id
                        - name
                        - iconUri
                      additionalProperties: false
                  required:
                    - assistantId
                    - id
                    - name
                    - ownerId
                    - createdAt
                    - lastMsgSentAt
                    - folderId
                    - assistant
                  additionalProperties: false
      security:
        - bearerAuth: []
    post:
      summary: Create conversation
      description: Create a new conversation for the session user.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  assistantId:
                    type: string
                  id:
                    type: string
                  name:
                    type: string
                  ownerId:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  lastMsgSentAt:
                    anyOf:
                      - type: string
                        format: date-time
                        pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                      - type: "null"
                  folderId:
                    anyOf:
                      - type: string
                      - type: "null"
                required:
                  - assistantId
                  - id
                  - name
                  - ownerId
                  - createdAt
                  - lastMsgSentAt
                  - folderId
                additionalProperties: false
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                assistantId:
                  type: string
                name:
                  type: string
              required:
                - assistantId
                - name
              additionalProperties: false
  /api/conversations/search:
    post:
      summary: Search conversations
      description: Search conversations and return conversations with messages.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    conversation:
                      type: object
                      properties:
                        assistantId:
                          type: string
                        id:
                          type: string
                        name:
                          type: string
                        ownerId:
                          type: string
                        createdAt:
                          type: string
                          format: date-time
                          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                        lastMsgSentAt:
                          anyOf:
                            - type: string
                              format: date-time
                              pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                            - type: "null"
                        folderId:
                          anyOf:
                            - type: string
                            - type: "null"
                      required:
                        - assistantId
                        - id
                        - name
                        - ownerId
                        - createdAt
                        - lastMsgSentAt
                        - folderId
                      additionalProperties: false
                    messages:
                      type: array
                      items:
                        type: object
                        additionalProperties: {}
                  required:
                    - conversation
                    - messages
                  additionalProperties: false
        "400":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
  /api/files/{fileId}/content:
    get:
      summary: Download file content
      description: Download file content
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema: {}
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: fileId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/files:
    post:
      summary: Create file
      description: Create file metadata entry.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  path:
                    type: string
                  type:
                    type: string
                  size:
                    type: number
                  uploaded:
                    anyOf:
                      - type: number
                        const: 0
                      - type: number
                        const: 1
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  encrypted:
                    anyOf:
                      - type: number
                        const: 0
                      - type: number
                        const: 1
                required:
                  - id
                  - name
                  - path
                  - type
                  - size
                  - uploaded
                  - createdAt
                  - encrypted
                additionalProperties: false
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                type:
                  type: string
                size:
                  type: number
              required:
                - name
                - type
                - size
              additionalProperties: false
  /api/health:
    get:
      summary: Healthcheck
      description: Simple health status endpoint.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                required:
                  - status
                additionalProperties: false
  /api/images/{imageId}:
    get:
      summary: Get image
      description: Fetch an image by id.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema: {}
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: imageId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/images:
    post:
      summary: Upload image metadata
      description: Create an image file entry and optionally associate with an assistant.
      responses:
        "201":
          description: Response
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                type:
                  type: string
                size:
                  type: number
              required:
                - name
                - type
                - size
              additionalProperties: false
  /api/mcp/oauth/callback:
    get:
      summary: McpOauthCallback
      description: Handle MCP OAuth callback.
      responses:
        "200":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
  /api/mcp/oauth/start:
    get:
      summary: McpOauthStart
      description: Start MCP OAuth flow for a tool.
      responses:
        "302":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
  /api/oauth/oidc:
    get:
      summary: OIDC callback
      description: Handle OIDC authorization code grant.
      responses:
        "303":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
  /api/oauth/saml:
    post:
      summary: SAML ACS
      description: Handle SAML ACS response.
      responses:
        "303":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
        "401":
          $ref: "#/components/responses/Error"
        "500":
          $ref: "#/components/responses/Error"
  /api/satellites:
    get:
      summary: List satellites
      description: List satellite connections.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    tools:
                      type: array
                      items: {}
                  required:
                    - name
                    - tools
                  additionalProperties: false
      security:
        - bearerAuth: []
  /api/settings:
    get:
      summary: Get settings
      description: Fetch all application properties.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
      security:
        - bearerAuth: []
    patch:
      summary: Update settings
      description: Update application properties.
      responses:
        "204":
          description: Response
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              additionalProperties:
                type: string
  /api/share/{shareId}/clone:
    post:
      summary: Clone shared conversation
      description: Clone a shared conversation into the current user account.
      responses:
        "200":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
      parameters:
        - name: shareId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/share/{shareId}/messages:
    get:
      summary: Get shared conversation messages
      description: Fetch messages for a shared conversation.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  additionalProperties: {}
      parameters:
        - name: shareId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/share/{shareId}:
    get:
      summary: Get shared conversation
      description: Fetch a shared conversation preview.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  title:
                    type: string
                  assistant:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      iconUri:
                        anyOf:
                          - type: string
                          - type: "null"
                    required:
                      - id
                      - name
                      - iconUri
                    additionalProperties: false
                  assistantUsability:
                    oneOf:
                      - type: object
                        properties:
                          state:
                            type: string
                            const: usable
                        required:
                          - state
                        additionalProperties: false
                      - type: object
                        properties:
                          state:
                            type: string
                            const: need-api-key
                          backendId:
                            type: string
                          backendName:
                            type: string
                        required:
                          - state
                          - backendId
                          - backendName
                        additionalProperties: false
                      - type: object
                        properties:
                          state:
                            type: string
                            const: not-usable
                          constraint:
                            type: string
                        required:
                          - state
                          - constraint
                        additionalProperties: false
                  messages:
                    type: array
                    items:
                      type: object
                      additionalProperties: {}
                required:
                  - title
                  - assistant
                  - messages
                additionalProperties: false
      parameters:
        - name: shareId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/sso/{id}:
    get:
      summary: Get SSO connection
      description: Fetch a specific SSO/SAML connection by id.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                anyOf:
                  - type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      description:
                        type: string
                      type:
                        type: string
                        const: SAML
                      config:
                        type: object
                        properties:
                          entityID:
                            type: string
                          sso:
                            type: object
                            properties:
                              postUrl:
                                type: string
                              redirectUrl:
                                type: string
                            additionalProperties: false
                          publicKey:
                            type: string
                        required:
                          - entityID
                          - sso
                        additionalProperties: false
                    required:
                      - id
                      - name
                      - description
                      - type
                      - config
                    additionalProperties: false
                  - type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      description:
                        type: string
                      type:
                        type: string
                        const: OIDC
                      config:
                        type: object
                        properties:
                          discoveryUrl:
                            type: string
                          clientId:
                            type: string
                          clientSecret:
                            type: string
                        required:
                          - discoveryUrl
                          - clientId
                          - clientSecret
                        additionalProperties: false
                    required:
                      - id
                      - name
                      - description
                      - type
                      - config
                    additionalProperties: false
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    delete:
      summary: Delete SSO connection
      description: Remove an existing SSO/SAML connection.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    patch:
      summary: Update SSO connection
      description: Update mutable fields of an existing SSO/SAML connection.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
              additionalProperties: false
  /api/sso/oidc:
    post:
      summary: Create OIDC SSO connection
      description: Create a new OIDC identity provider connection.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties: {}
                additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                discoveryUrl:
                  type: string
                  format: uri
                clientId:
                  type: string
                clientSecret:
                  type: string
              required:
                - name
                - description
                - discoveryUrl
                - clientId
                - clientSecret
              additionalProperties: false
  /api/sso:
    get:
      summary: List SSO connections
      description: Fetch all configured SSO connections.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  anyOf:
                    - type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        description:
                          type: string
                        type:
                          type: string
                          const: SAML
                        config:
                          type: object
                          properties:
                            entityID:
                              type: string
                            sso:
                              type: object
                              properties:
                                postUrl:
                                  type: string
                                redirectUrl:
                                  type: string
                              additionalProperties: false
                            publicKey:
                              type: string
                          required:
                            - entityID
                            - sso
                          additionalProperties: false
                      required:
                        - id
                        - name
                        - description
                        - type
                        - config
                      additionalProperties: false
                    - type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        description:
                          type: string
                        type:
                          type: string
                          const: OIDC
                        config:
                          type: object
                          properties:
                            discoveryUrl:
                              type: string
                            clientId:
                              type: string
                            clientSecret:
                              type: string
                          required:
                            - discoveryUrl
                            - clientId
                            - clientSecret
                          additionalProperties: false
                      required:
                        - id
                        - name
                        - description
                        - type
                        - config
                      additionalProperties: false
      security:
        - bearerAuth: []
  /api/sso/saml:
    post:
      summary: Create SAML SSO connection
      description: Create a new SAML identity provider connection.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties: {}
                additionalProperties: false
        "400":
          $ref: "#/components/responses/Error"
        "403":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                rawMetadata:
                  type: string
              required:
                - name
                - description
                - rawMetadata
              additionalProperties: false
  /api/tools/{toolId}:
    get:
      summary: Get tool
      description: Fetch a specific tool.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  type:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  configuration:
                    type: object
                    additionalProperties: {}
                  tags:
                    type: array
                    items:
                      type: string
                  icon:
                    anyOf:
                      - type: string
                      - type: "null"
                  sharing:
                    oneOf:
                      - type: object
                        properties:
                          type:
                            type: string
                            const: private
                        required:
                          - type
                        additionalProperties: false
                      - type: object
                        properties:
                          type:
                            type: string
                            const: public
                        required:
                          - type
                        additionalProperties: false
                      - type: object
                        properties:
                          type:
                            type: string
                            const: workspace
                          workspaces:
                            type: array
                            items:
                              type: string
                        required:
                          - type
                          - workspaces
                        additionalProperties: false
                  provisioned:
                    type: boolean
                  capability:
                    type: boolean
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  updatedAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  promptFragment:
                    type: string
                required:
                  - id
                  - type
                  - name
                  - description
                  - configuration
                  - tags
                  - icon
                  - sharing
                  - provisioned
                  - capability
                  - createdAt
                  - updatedAt
                  - promptFragment
                additionalProperties: false
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: toolId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    delete:
      summary: Delete tool
      description: Delete a specific tool.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
        "409":
          $ref: "#/components/responses/Error"
      parameters:
        - name: toolId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    patch:
      summary: Update tool
      description: Update an existing tool.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: toolId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                configuration:
                  type: object
                  additionalProperties: {}
                tags:
                  type: array
                  items:
                    type: string
                icon:
                  anyOf:
                    - type: string
                    - type: "null"
                sharing:
                  oneOf:
                    - type: object
                      properties:
                        type:
                          type: string
                          const: private
                      required:
                        - type
                      additionalProperties: false
                    - type: object
                      properties:
                        type:
                          type: string
                          const: public
                      required:
                        - type
                      additionalProperties: false
                    - type: object
                      properties:
                        type:
                          type: string
                          const: workspace
                        workspaces:
                          type: array
                          items:
                            type: string
                      required:
                        - type
                        - workspaces
                      additionalProperties: false
                promptFragment:
                  type: string
              additionalProperties: false
  /api/tools:
    get:
      summary: List tools
      description: Fetch all tools.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    type:
                      type: string
                    name:
                      type: string
                    description:
                      type: string
                    configuration:
                      type: object
                      additionalProperties: {}
                    tags:
                      type: array
                      items:
                        type: string
                    icon:
                      anyOf:
                        - type: string
                        - type: "null"
                    sharing:
                      oneOf:
                        - type: object
                          properties:
                            type:
                              type: string
                              const: private
                          required:
                            - type
                          additionalProperties: false
                        - type: object
                          properties:
                            type:
                              type: string
                              const: public
                          required:
                            - type
                          additionalProperties: false
                        - type: object
                          properties:
                            type:
                              type: string
                              const: workspace
                            workspaces:
                              type: array
                              items:
                                type: string
                          required:
                            - type
                            - workspaces
                          additionalProperties: false
                    provisioned:
                      type: boolean
                    capability:
                      type: boolean
                    createdAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    updatedAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    promptFragment:
                      type: string
                  required:
                    - id
                    - type
                    - name
                    - description
                    - configuration
                    - tags
                    - icon
                    - sharing
                    - provisioned
                    - capability
                    - createdAt
                    - updatedAt
                    - promptFragment
                  additionalProperties: false
      security:
        - bearerAuth: []
    post:
      summary: Create tool
      description: Create a new tool.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  type:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  configuration:
                    type: object
                    additionalProperties: {}
                  tags:
                    type: array
                    items:
                      type: string
                  icon:
                    anyOf:
                      - type: string
                      - type: "null"
                  sharing:
                    oneOf:
                      - type: object
                        properties:
                          type:
                            type: string
                            const: private
                        required:
                          - type
                        additionalProperties: false
                      - type: object
                        properties:
                          type:
                            type: string
                            const: public
                        required:
                          - type
                        additionalProperties: false
                      - type: object
                        properties:
                          type:
                            type: string
                            const: workspace
                          workspaces:
                            type: array
                            items:
                              type: string
                        required:
                          - type
                          - workspaces
                        additionalProperties: false
                  provisioned:
                    type: boolean
                  capability:
                    type: boolean
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  updatedAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  promptFragment:
                    type: string
                required:
                  - id
                  - type
                  - name
                  - description
                  - configuration
                  - tags
                  - icon
                  - sharing
                  - provisioned
                  - capability
                  - createdAt
                  - updatedAt
                  - promptFragment
                additionalProperties: false
        "500":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  type: string
                name:
                  type: string
                description:
                  type: string
                configuration:
                  type: object
                  additionalProperties: {}
                tags:
                  type: array
                  items:
                    type: string
                icon:
                  anyOf:
                    - type: string
                    - type: "null"
                sharing:
                  oneOf:
                    - type: object
                      properties:
                        type:
                          type: string
                          const: private
                      required:
                        - type
                      additionalProperties: false
                    - type: object
                      properties:
                        type:
                          type: string
                          const: public
                      required:
                        - type
                      additionalProperties: false
                    - type: object
                      properties:
                        type:
                          type: string
                          const: workspace
                        workspaces:
                          type: array
                          items:
                            type: string
                      required:
                        - type
                        - workspaces
                      additionalProperties: false
                promptFragment:
                  type: string
              required:
                - type
                - name
                - description
                - configuration
                - tags
                - icon
                - sharing
                - promptFragment
              additionalProperties: false
  /api/tools/tags:
    get:
      summary: List tool tags
      description: List available tool tag suggestions.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
      security:
        - bearerAuth: []
  /api/user/apikeys/{id}:
    delete:
      summary: Delete my API key
      description: Delete an API key owned by the current user.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/user/apikeys:
    get:
      summary: List my API keys
      description: Fetch API keys for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    key:
                      type: string
                    userId:
                      type: string
                    description:
                      type: string
                    createdAt:
                      type: string
                    expiresAt:
                      anyOf:
                        - type: string
                        - type: "null"
                    enabled:
                      type: number
                    provisioned:
                      type: boolean
                  required:
                    - id
                    - key
                    - userId
                    - description
                    - createdAt
                    - expiresAt
                    - enabled
                    - provisioned
                  additionalProperties: false
      security:
        - bearerAuth: []
    post:
      summary: Create my API key
      description: Create a new API key for the current user.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  key:
                    type: string
                  userId:
                    type: string
                  description:
                    type: string
                  createdAt:
                    type: string
                  expiresAt:
                    anyOf:
                      - type: string
                      - type: "null"
                  enabled:
                    type: number
                  provisioned:
                    type: boolean
                required:
                  - id
                  - key
                  - userId
                  - description
                  - createdAt
                  - expiresAt
                  - enabled
                  - provisioned
                additionalProperties: false
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                description:
                  type: string
                expiresAt:
                  anyOf:
                    - type: string
                    - type: "null"
              required:
                - description
                - expiresAt
              additionalProperties: false
  /api/user/assistants/{assistantId}:
    get:
      summary: Get assistant for user
      description: Fetch an assistant accessible to the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  iconUri:
                    anyOf:
                      - type: string
                      - type: "null"
                  versionId:
                    type: string
                  backendId:
                    type: string
                  description:
                    type: string
                  model:
                    type: string
                  usability:
                    oneOf:
                      - type: object
                        properties:
                          state:
                            type: string
                            const: usable
                        required:
                          - state
                        additionalProperties: false
                      - type: object
                        properties:
                          state:
                            type: string
                            const: need-api-key
                          backendId:
                            type: string
                          backendName:
                            type: string
                        required:
                          - state
                          - backendId
                          - backendName
                        additionalProperties: false
                      - type: object
                        properties:
                          state:
                            type: string
                            const: not-usable
                          constraint:
                            type: string
                        required:
                          - state
                          - constraint
                        additionalProperties: false
                  pinned:
                    type: boolean
                  lastUsed:
                    anyOf:
                      - type: string
                      - type: "null"
                  owner:
                    type: string
                  ownerName:
                    type: string
                  tags:
                    type: array
                    items:
                      type: string
                  prompts:
                    type: array
                    items:
                      type: string
                  sharing:
                    type: array
                    items:
                      oneOf:
                        - type: object
                          properties:
                            type:
                              type: string
                              const: all
                          required:
                            - type
                          additionalProperties: false
                        - type: object
                          properties:
                            type:
                              type: string
                              const: workspace
                            workspaceId:
                              type: string
                            workspaceName:
                              type: string
                          required:
                            - type
                            - workspaceId
                            - workspaceName
                          additionalProperties: false
                  createdAt:
                    type: string
                  updatedAt:
                    type: string
                  cloneable:
                    type: boolean
                  tokenLimit:
                    type: number
                  tools:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        availability:
                          type: string
                          enum:
                            - ok
                            - require-auth
                      required:
                        - id
                        - name
                        - availability
                      additionalProperties: false
                  pendingChanges:
                    type: boolean
                  supportedMedia:
                    type: array
                    items:
                      type: string
                required:
                  - id
                  - name
                  - iconUri
                  - versionId
                  - backendId
                  - description
                  - model
                  - usability
                  - pinned
                  - lastUsed
                  - owner
                  - ownerName
                  - tags
                  - prompts
                  - sharing
                  - createdAt
                  - updatedAt
                  - cloneable
                  - tokenLimit
                  - tools
                  - pendingChanges
                  - supportedMedia
                additionalProperties: false
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    patch:
      summary: Update assistant user data
      description: Update user-specific assistant data.
      responses:
        "204":
          description: Response
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                pinned:
                  type: boolean
              additionalProperties: false
  /api/user/assistants/{assistantId}/systemPrompt:
    get:
      summary: Get assistant system prompt
      description: Fetch the system prompt for a published assistant.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  systemPrompt:
                    type: string
                required:
                  - systemPrompt
                additionalProperties: false
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: assistantId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/user/assistants/explore:
    get:
      summary: List published assistants
      description: List published assistants visible to the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    iconUri:
                      anyOf:
                        - type: string
                        - type: "null"
                    versionId:
                      type: string
                    backendId:
                      type: string
                    description:
                      type: string
                    model:
                      type: string
                    usability:
                      oneOf:
                        - type: object
                          properties:
                            state:
                              type: string
                              const: usable
                          required:
                            - state
                          additionalProperties: false
                        - type: object
                          properties:
                            state:
                              type: string
                              const: need-api-key
                            backendId:
                              type: string
                            backendName:
                              type: string
                          required:
                            - state
                            - backendId
                            - backendName
                          additionalProperties: false
                        - type: object
                          properties:
                            state:
                              type: string
                              const: not-usable
                            constraint:
                              type: string
                          required:
                            - state
                            - constraint
                          additionalProperties: false
                    pinned:
                      type: boolean
                    lastUsed:
                      anyOf:
                        - type: string
                        - type: "null"
                    owner:
                      type: string
                    ownerName:
                      type: string
                    tags:
                      type: array
                      items:
                        type: string
                    prompts:
                      type: array
                      items:
                        type: string
                    sharing:
                      type: array
                      items:
                        oneOf:
                          - type: object
                            properties:
                              type:
                                type: string
                                const: all
                            required:
                              - type
                            additionalProperties: false
                          - type: object
                            properties:
                              type:
                                type: string
                                const: workspace
                              workspaceId:
                                type: string
                              workspaceName:
                                type: string
                            required:
                              - type
                              - workspaceId
                              - workspaceName
                            additionalProperties: false
                    createdAt:
                      type: string
                    updatedAt:
                      type: string
                    cloneable:
                      type: boolean
                    tokenLimit:
                      type: number
                    tools:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                          name:
                            type: string
                          availability:
                            type: string
                            enum:
                              - ok
                              - require-auth
                        required:
                          - id
                          - name
                          - availability
                        additionalProperties: false
                    pendingChanges:
                      type: boolean
                  required:
                    - id
                    - name
                    - iconUri
                    - versionId
                    - backendId
                    - description
                    - model
                    - usability
                    - pinned
                    - lastUsed
                    - owner
                    - ownerName
                    - tags
                    - prompts
                    - sharing
                    - createdAt
                    - updatedAt
                    - cloneable
                    - tokenLimit
                    - tools
                    - pendingChanges
                  additionalProperties: false
      security:
        - bearerAuth: []
  /api/user/assistants/mine:
    get:
      summary: List my draft assistants
      description: List draft assistants for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    iconUri:
                      anyOf:
                        - type: string
                        - type: "null"
                    versionId:
                      type: string
                    backendId:
                      type: string
                    description:
                      type: string
                    model:
                      type: string
                    usability:
                      oneOf:
                        - type: object
                          properties:
                            state:
                              type: string
                              const: usable
                          required:
                            - state
                          additionalProperties: false
                        - type: object
                          properties:
                            state:
                              type: string
                              const: need-api-key
                            backendId:
                              type: string
                            backendName:
                              type: string
                          required:
                            - state
                            - backendId
                            - backendName
                          additionalProperties: false
                        - type: object
                          properties:
                            state:
                              type: string
                              const: not-usable
                            constraint:
                              type: string
                          required:
                            - state
                            - constraint
                          additionalProperties: false
                    pinned:
                      type: boolean
                    lastUsed:
                      anyOf:
                        - type: string
                        - type: "null"
                    owner:
                      type: string
                    ownerName:
                      type: string
                    tags:
                      type: array
                      items:
                        type: string
                    prompts:
                      type: array
                      items:
                        type: string
                    sharing:
                      type: array
                      items:
                        oneOf:
                          - type: object
                            properties:
                              type:
                                type: string
                                const: all
                            required:
                              - type
                            additionalProperties: false
                          - type: object
                            properties:
                              type:
                                type: string
                                const: workspace
                              workspaceId:
                                type: string
                              workspaceName:
                                type: string
                            required:
                              - type
                              - workspaceId
                              - workspaceName
                            additionalProperties: false
                    createdAt:
                      type: string
                    updatedAt:
                      type: string
                    cloneable:
                      type: boolean
                    tokenLimit:
                      type: number
                    tools:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                          name:
                            type: string
                          availability:
                            type: string
                            enum:
                              - ok
                              - require-auth
                        required:
                          - id
                          - name
                          - availability
                        additionalProperties: false
                    pendingChanges:
                      type: boolean
                  required:
                    - id
                    - name
                    - iconUri
                    - versionId
                    - backendId
                    - description
                    - model
                    - usability
                    - pinned
                    - lastUsed
                    - owner
                    - ownerName
                    - tags
                    - prompts
                    - sharing
                    - createdAt
                    - updatedAt
                    - cloneable
                    - tokenLimit
                    - tools
                    - pendingChanges
                  additionalProperties: false
      security:
        - bearerAuth: []
  /api/user/assistants:
    get:
      summary: List my assistants
      description: List assistants created by the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    assistantId:
                      type: string
                    backendId:
                      type: string
                    description:
                      type: string
                    model:
                      type: string
                    name:
                      type: string
                    systemPrompt:
                      type: string
                    temperature:
                      type: number
                    tokenLimit:
                      type: number
                    reasoning_effort:
                      anyOf:
                        - type: string
                          enum:
                            - low
                            - medium
                            - high
                        - type: "null"
                    createdAt:
                      type: string
                    updatedAt:
                      type: string
                    owner:
                      type: string
                    ownerName:
                      type: string
                    modelName:
                      type: string
                    sharing:
                      type: array
                      items:
                        oneOf:
                          - type: object
                            properties:
                              type:
                                type: string
                                const: all
                            required:
                              - type
                            additionalProperties: false
                          - type: object
                            properties:
                              type:
                                type: string
                                const: workspace
                              workspaceId:
                                type: string
                              workspaceName:
                                type: string
                            required:
                              - type
                              - workspaceId
                              - workspaceName
                            additionalProperties: false
                    tags:
                      type: array
                      items:
                        type: string
                    prompts:
                      type: array
                      items:
                        type: string
                    iconUri:
                      anyOf:
                        - type: string
                        - type: "null"
                    provisioned:
                      type: boolean
                  required:
                    - id
                    - assistantId
                    - backendId
                    - description
                    - model
                    - name
                    - systemPrompt
                    - temperature
                    - tokenLimit
                    - reasoning_effort
                    - createdAt
                    - updatedAt
                    - owner
                    - ownerName
                    - modelName
                    - sharing
                    - tags
                    - prompts
                    - iconUri
                    - provisioned
                  additionalProperties: false
      security:
        - bearerAuth: []
  /api/user/folders/{folderId}/conversations:
    get:
      summary: List folder conversations
      description: Fetch conversations inside a folder for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    assistantId:
                      type: string
                    id:
                      type: string
                    name:
                      type: string
                    ownerId:
                      type: string
                    createdAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    lastMsgSentAt:
                      anyOf:
                        - type: string
                          format: date-time
                          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                        - type: "null"
                    folderId:
                      anyOf:
                        - type: string
                        - type: "null"
                    assistant:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        iconUri:
                          anyOf:
                            - type: string
                            - type: "null"
                      required:
                        - id
                        - name
                        - iconUri
                      additionalProperties: false
                  required:
                    - assistantId
                    - id
                    - name
                    - ownerId
                    - createdAt
                    - lastMsgSentAt
                    - folderId
                    - assistant
                  additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: folderId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/user/folders/{folderId}:
    get:
      summary: Get folder
      description: Fetch a folder for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  ownerId:
                    type: string
                required:
                  - id
                  - name
                  - ownerId
                additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: folderId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    post:
      summary: Add conversation to folder
      description: Add or move a conversation into a folder.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
      parameters:
        - name: folderId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                conversationId:
                  type: string
              required:
                - conversationId
              additionalProperties: false
    delete:
      summary: Delete folder
      description: Delete a folder for the current user.
      responses:
        "204":
          description: Response
      parameters:
        - name: folderId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    patch:
      summary: Update folder
      description: Update a folder for the current user.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: folderId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
              additionalProperties: false
  /api/user/folders:
    get:
      summary: List user folders
      description: Fetch conversation folders for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    ownerId:
                      type: string
                  required:
                    - id
                    - name
                    - ownerId
                  additionalProperties: false
      security:
        - bearerAuth: []
    post:
      summary: Create user folder
      description: Create a conversation folder for the current user.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  ownerId:
                    type: string
                required:
                  - id
                  - name
                  - ownerId
                additionalProperties: false
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
              required:
                - name
              additionalProperties: false
  /api/user/profile:
    get:
      summary: Get user profile
      description: Fetch the current user profile.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  email:
                    type: string
                    format: email
                    pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
                  name:
                    type: string
                  role:
                    type: string
                    enum:
                      - USER
                      - ADMIN
                  provisioned:
                    type: boolean
                  updatedAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  image:
                    anyOf:
                      - type: string
                      - type: "null"
                  ssoUser:
                    type: boolean
                  properties:
                    type: object
                    additionalProperties:
                      type: string
                  workspaces:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        role:
                          type: string
                          enum:
                            - ADMIN
                            - OWNER
                            - MEMBER
                            - EDITOR
                      required:
                        - id
                        - name
                        - role
                      additionalProperties: false
                  lastUsedAssistant:
                    anyOf:
                      - type: object
                        properties:
                          id:
                            type: string
                          name:
                            type: string
                          iconUri:
                            anyOf:
                              - type: string
                              - type: "null"
                          versionId:
                            type: string
                          backendId:
                            type: string
                          description:
                            type: string
                          model:
                            type: string
                          usability:
                            oneOf:
                              - type: object
                                properties:
                                  state:
                                    type: string
                                    const: usable
                                required:
                                  - state
                                additionalProperties: false
                              - type: object
                                properties:
                                  state:
                                    type: string
                                    const: need-api-key
                                  backendId:
                                    type: string
                                  backendName:
                                    type: string
                                required:
                                  - state
                                  - backendId
                                  - backendName
                                additionalProperties: false
                              - type: object
                                properties:
                                  state:
                                    type: string
                                    const: not-usable
                                  constraint:
                                    type: string
                                required:
                                  - state
                                  - constraint
                                additionalProperties: false
                          pinned:
                            type: boolean
                          lastUsed:
                            anyOf:
                              - type: string
                              - type: "null"
                          owner:
                            type: string
                          ownerName:
                            type: string
                          tags:
                            type: array
                            items:
                              type: string
                          prompts:
                            type: array
                            items:
                              type: string
                          sharing:
                            type: array
                            items:
                              oneOf:
                                - type: object
                                  properties:
                                    type:
                                      type: string
                                      const: all
                                  required:
                                    - type
                                  additionalProperties: false
                                - type: object
                                  properties:
                                    type:
                                      type: string
                                      const: workspace
                                    workspaceId:
                                      type: string
                                    workspaceName:
                                      type: string
                                  required:
                                    - type
                                    - workspaceId
                                    - workspaceName
                                  additionalProperties: false
                          createdAt:
                            type: string
                          updatedAt:
                            type: string
                          cloneable:
                            type: boolean
                          tokenLimit:
                            type: number
                          tools:
                            type: array
                            items:
                              type: object
                              properties:
                                id:
                                  type: string
                                name:
                                  type: string
                                availability:
                                  type: string
                                  enum:
                                    - ok
                                    - require-auth
                              required:
                                - id
                                - name
                                - availability
                              additionalProperties: false
                          pendingChanges:
                            type: boolean
                        required:
                          - id
                          - name
                          - iconUri
                          - versionId
                          - backendId
                          - description
                          - model
                          - usability
                          - pinned
                          - lastUsed
                          - owner
                          - ownerName
                          - tags
                          - prompts
                          - sharing
                          - createdAt
                          - updatedAt
                          - cloneable
                          - tokenLimit
                          - tools
                          - pendingChanges
                        additionalProperties: false
                      - type: "null"
                  pinnedAssistants:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        iconUri:
                          anyOf:
                            - type: string
                            - type: "null"
                        versionId:
                          type: string
                        backendId:
                          type: string
                        description:
                          type: string
                        model:
                          type: string
                        usability:
                          oneOf:
                            - type: object
                              properties:
                                state:
                                  type: string
                                  const: usable
                              required:
                                - state
                              additionalProperties: false
                            - type: object
                              properties:
                                state:
                                  type: string
                                  const: need-api-key
                                backendId:
                                  type: string
                                backendName:
                                  type: string
                              required:
                                - state
                                - backendId
                                - backendName
                              additionalProperties: false
                            - type: object
                              properties:
                                state:
                                  type: string
                                  const: not-usable
                                constraint:
                                  type: string
                              required:
                                - state
                                - constraint
                              additionalProperties: false
                        pinned:
                          type: boolean
                        lastUsed:
                          anyOf:
                            - type: string
                            - type: "null"
                        owner:
                          type: string
                        ownerName:
                          type: string
                        tags:
                          type: array
                          items:
                            type: string
                        prompts:
                          type: array
                          items:
                            type: string
                        sharing:
                          type: array
                          items:
                            oneOf:
                              - type: object
                                properties:
                                  type:
                                    type: string
                                    const: all
                                required:
                                  - type
                                additionalProperties: false
                              - type: object
                                properties:
                                  type:
                                    type: string
                                    const: workspace
                                  workspaceId:
                                    type: string
                                  workspaceName:
                                    type: string
                                required:
                                  - type
                                  - workspaceId
                                  - workspaceName
                                additionalProperties: false
                        createdAt:
                          type: string
                        updatedAt:
                          type: string
                        cloneable:
                          type: boolean
                        tokenLimit:
                          type: number
                        tools:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              name:
                                type: string
                              availability:
                                type: string
                                enum:
                                  - ok
                                  - require-auth
                            required:
                              - id
                              - name
                              - availability
                            additionalProperties: false
                        pendingChanges:
                          type: boolean
                      required:
                        - id
                        - name
                        - iconUri
                        - versionId
                        - backendId
                        - description
                        - model
                        - usability
                        - pinned
                        - lastUsed
                        - owner
                        - ownerName
                        - tags
                        - prompts
                        - sharing
                        - createdAt
                        - updatedAt
                        - cloneable
                        - tokenLimit
                        - tools
                        - pendingChanges
                      additionalProperties: false
                  preferences:
                    type: object
                    properties:
                      language:
                        type: string
                      conversationEditing:
                        type: boolean
                      showIconsInChatbar:
                        type: boolean
                      advancedSystemPromptEditor:
                        type: boolean
                      advancedMessageEditor:
                        type: boolean
                    additionalProperties: false
                required:
                  - id
                  - createdAt
                  - email
                  - name
                  - role
                  - provisioned
                  - updatedAt
                  - image
                  - ssoUser
                  - properties
                  - workspaces
                  - lastUsedAssistant
                  - pinnedAssistants
                  - preferences
                additionalProperties: false
        "404":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
    patch:
      summary: Update user profile
      description: Update the current user profile.
      responses:
        "204":
          description: Response
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
                name:
                  type: string
                preferences:
                  type: string
                image:
                  anyOf:
                    - type: string
                    - type: "null"
                properties:
                  type: object
                  additionalProperties:
                    type: string
              additionalProperties: false
  /api/user/prompts/{promptId}:
    get:
      summary: Get user prompt
      description: Fetch a prompt by id for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: string
                  description:
                    type: string
                  id:
                    type: string
                  name:
                    type: string
                  ownerId:
                    type: string
                required:
                  - content
                  - description
                  - id
                  - name
                  - ownerId
                additionalProperties: false
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: promptId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    delete:
      summary: Delete user prompt
      description: Delete a prompt for the current user.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: promptId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/user/prompts:
    get:
      summary: List user prompts
      description: Fetch prompts for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    content:
                      type: string
                    description:
                      type: string
                    id:
                      type: string
                    name:
                      type: string
                    ownerId:
                      type: string
                  required:
                    - content
                    - description
                    - id
                    - name
                    - ownerId
                  additionalProperties: false
      security:
        - bearerAuth: []
    post:
      summary: Create user prompt
      description: Create a prompt for the current user.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: string
                  description:
                    type: string
                  id:
                    type: string
                  name:
                    type: string
                  ownerId:
                    type: string
                required:
                  - content
                  - description
                  - id
                  - name
                  - ownerId
                additionalProperties: false
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
                description:
                  type: string
                name:
                  type: string
              required:
                - content
                - description
                - name
              additionalProperties: false
  /api/user/secrets/{id}:
    delete:
      summary: Delete user secret
      description: Remove a user secret for the current user.
      responses:
        "204":
          description: Response
        "400":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/user/secrets:
    get:
      summary: List user secrets
      description: List user secret status for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    context:
                      type: string
                    type:
                      anyOf:
                        - type: string
                          enum:
                            - backend-credentials
                            - mcp-oauth
                        - type: string
                    label:
                      type: string
                    readable:
                      type: boolean
                  required:
                    - id
                    - context
                    - type
                    - label
                    - readable
                  additionalProperties: false
      security:
        - bearerAuth: []
    post:
      summary: Create user secret
      description: Create a user secret for the current user.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  context:
                    type: string
                  type:
                    anyOf:
                      - type: string
                        enum:
                          - backend-credentials
                          - mcp-oauth
                      - type: string
                  label:
                    type: string
                  readable:
                    type: boolean
                required:
                  - id
                  - context
                  - type
                  - label
                  - readable
                additionalProperties: false
        "400":
          $ref: "#/components/responses/Error"
        "409":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  type: string
                  minLength: 1
                type:
                  type: string
                  enum:
                    - backend-credentials
                    - mcp-oauth
                label:
                  type: string
                  minLength: 1
                value:
                  type: string
                  minLength: 1
              required:
                - context
                - type
                - label
                - value
              additionalProperties: false
  /api/user/tools:
    get:
      summary: List tools for user
      description: List tools with visibility for the current user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    capability:
                      type: boolean
                    provisioned:
                      type: boolean
                    visible:
                      type: boolean
                  required:
                    - id
                    - name
                    - capability
                    - provisioned
                    - visible
                  additionalProperties: false
      security:
        - bearerAuth: []
  /api/users/{userId}/apiKeys/{apiKey}:
    delete:
      summary: Delete user API key
      description: Delete a specific API key for a user.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
        "409":
          $ref: "#/components/responses/Error"
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
        - name: apiKey
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/users/{userId}/apiKeys:
    get:
      summary: List user API keys
      description: Fetch all API keys for a user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    key:
                      type: string
                    userId:
                      type: string
                    description:
                      type: string
                    createdAt:
                      type: string
                    expiresAt:
                      anyOf:
                        - type: string
                        - type: "null"
                    enabled:
                      type: number
                    provisioned:
                      type: boolean
                  required:
                    - id
                    - key
                    - userId
                    - description
                    - createdAt
                    - expiresAt
                    - enabled
                    - provisioned
                  additionalProperties: false
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    post:
      summary: Create user API key
      description: Create a new API key for a user.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  key:
                    type: string
                  userId:
                    type: string
                  description:
                    type: string
                  createdAt:
                    type: string
                  expiresAt:
                    anyOf:
                      - type: string
                      - type: "null"
                  enabled:
                    type: number
                  provisioned:
                    type: boolean
                required:
                  - id
                  - key
                  - userId
                  - description
                  - createdAt
                  - expiresAt
                  - enabled
                  - provisioned
                additionalProperties: false
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                description:
                  type: string
                expiresAt:
                  anyOf:
                    - type: string
                    - type: "null"
              required:
                - description
                - expiresAt
              additionalProperties: false
  /api/users/{userId}/password:
    delete:
      summary: Delete user password
      description: Remove a user password.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/users/{userId}:
    get:
      summary: Get user
      description: Fetch a specific user.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  email:
                    type: string
                    format: email
                    pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
                  name:
                    type: string
                  password:
                    anyOf:
                      - type: string
                      - type: "null"
                  role:
                    type: string
                    enum:
                      - USER
                      - ADMIN
                  provisioned:
                    type: boolean
                  updatedAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  preferences:
                    type: string
                  image:
                    anyOf:
                      - type: string
                      - type: "null"
                  ssoUser:
                    type: boolean
                  properties:
                    type: object
                    additionalProperties:
                      type: string
                required:
                  - id
                  - createdAt
                  - email
                  - name
                  - password
                  - role
                  - provisioned
                  - updatedAt
                  - preferences
                  - image
                  - ssoUser
                  - properties
                additionalProperties: false
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    delete:
      summary: Delete user
      description: Delete a specific user.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
        "409":
          $ref: "#/components/responses/Error"
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    patch:
      summary: Update user
      description: Update an existing user.
      responses:
        "204":
          description: Response
        "403":
          $ref: "#/components/responses/Error"
        "404":
          $ref: "#/components/responses/Error"
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
                name:
                  type: string
                ssoUser:
                  type: boolean
                password:
                  anyOf:
                    - type: string
                    - type: "null"
                role:
                  type: string
                  enum:
                    - USER
                    - ADMIN
                preferences:
                  type: string
                image:
                  anyOf:
                    - type: string
                    - type: "null"
                properties:
                  type: object
                  additionalProperties:
                    type: string
              additionalProperties: false
  /api/users:
    get:
      summary: List users
      description: Fetch all users.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    createdAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    email:
                      type: string
                      format: email
                      pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
                    name:
                      type: string
                    password:
                      anyOf:
                        - type: string
                        - type: "null"
                    role:
                      type: string
                      enum:
                        - USER
                        - ADMIN
                    provisioned:
                      type: boolean
                    updatedAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    preferences:
                      type: string
                    image:
                      anyOf:
                        - type: string
                        - type: "null"
                    ssoUser:
                      type: boolean
                    properties:
                      type: object
                      additionalProperties:
                        type: string
                  required:
                    - id
                    - createdAt
                    - email
                    - name
                    - password
                    - role
                    - provisioned
                    - updatedAt
                    - preferences
                    - image
                    - ssoUser
                    - properties
                  additionalProperties: false
      security:
        - bearerAuth: []
    post:
      summary: Create user
      description: Create a new user.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  email:
                    type: string
                    format: email
                    pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
                  name:
                    type: string
                  password:
                    anyOf:
                      - type: string
                      - type: "null"
                  role:
                    type: string
                    enum:
                      - USER
                      - ADMIN
                  provisioned:
                    type: boolean
                  updatedAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  preferences:
                    type: string
                  image:
                    anyOf:
                      - type: string
                      - type: "null"
                  ssoUser:
                    type: boolean
                  properties:
                    type: object
                    additionalProperties:
                      type: string
                required:
                  - id
                  - createdAt
                  - email
                  - name
                  - password
                  - role
                  - provisioned
                  - updatedAt
                  - preferences
                  - image
                  - ssoUser
                  - properties
                additionalProperties: false
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
                name:
                  type: string
                ssoUser:
                  type: boolean
                password:
                  anyOf:
                    - type: string
                    - type: "null"
                role:
                  type: string
                  enum:
                    - USER
                    - ADMIN
                preferences:
                  type: string
                image:
                  anyOf:
                    - type: string
                    - type: "null"
                properties:
                  type: object
                  additionalProperties:
                    type: string
              required:
                - email
                - name
                - ssoUser
                - password
                - role
                - preferences
                - image
                - properties
              additionalProperties: false
  /api/v1/responses:
    post:
      summary: Chat v1 responses
      description: Send a message and receive assistant response parts.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  parts:
                    type: array
                    items:
                      anyOf:
                        - type: object
                          properties:
                            type:
                              type: string
                              const: text
                            text:
                              type: string
                          required:
                            - type
                            - text
                          additionalProperties: false
                        - type: object
                          properties:
                            type:
                              type: string
                              const: image
                            image:
                              type: string
                          required:
                            - type
                            - image
                          additionalProperties: false
                        - type: object
                          properties:
                            type:
                              type: string
                              const: file
                            file:
                              type: string
                          required:
                            - type
                            - file
                          additionalProperties: false
                required:
                  - id
                  - parts
                additionalProperties: false
        "400":
          $ref: "#/components/responses/Error"
        "401":
          $ref: "#/components/responses/Error"
        "403":
          $ref: "#/components/responses/Error"
        "500":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                attachments:
                  type: array
                  items:
                    type: string
                content:
                  type: string
                assistant:
                  type: string
                previous_response:
                  type: string
              required:
                - content
              additionalProperties: false
  /api/workspaces/{workspaceId}/members/{userId}:
    patch:
      summary: Update workspace member
      description: Update a workspace member role.
      responses:
        "204":
          description: Response
      parameters:
        - name: workspaceId
          in: path
          required: true
          schema:
            type: string
        - name: userId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                role:
                  type: string
                  enum:
                    - ADMIN
                    - OWNER
                    - MEMBER
                    - EDITOR
              required:
                - role
              additionalProperties: false
  /api/workspaces/{workspaceId}/members:
    get:
      summary: List workspace members
      description: Fetch members of a workspace.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    userId:
                      type: string
                    workspaceId:
                      type: string
                    role:
                      type: string
                      enum:
                        - ADMIN
                        - OWNER
                        - MEMBER
                        - EDITOR
                    createdAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    updatedAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    name:
                      type: string
                    email:
                      type: string
                  required:
                    - id
                    - userId
                    - workspaceId
                    - role
                    - createdAt
                    - updatedAt
                    - name
                    - email
                  additionalProperties: false
      parameters:
        - name: workspaceId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    post:
      summary: Add workspace members
      description: Add members to a workspace.
      responses:
        "204":
          description: Response
        "409":
          $ref: "#/components/responses/Error"
      parameters:
        - name: workspaceId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  userId:
                    type: string
                  role:
                    type: string
                    enum:
                      - ADMIN
                      - OWNER
                      - MEMBER
                      - EDITOR
                required:
                  - userId
                  - role
                additionalProperties: false
    delete:
      summary: Remove workspace member
      description: Remove a member from a workspace.
      responses:
        "204":
          description: Response
      parameters:
        - name: workspaceId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/workspaces/{workspaceId}:
    get:
      summary: Get workspace
      description: Fetch a workspace.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  slug:
                    type: string
                  domain:
                    anyOf:
                      - type: string
                      - type: "null"
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  updatedAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                required:
                  - id
                  - name
                  - slug
                  - domain
                  - createdAt
                  - updatedAt
                additionalProperties: false
      parameters:
        - name: workspaceId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
    delete:
      summary: Delete workspace
      description: Delete a workspace.
      responses:
        "204":
          description: Response
      parameters:
        - name: workspaceId
          in: path
          required: true
          schema:
            type: string
      security:
        - bearerAuth: []
  /api/workspaces:
    get:
      summary: List workspaces
      description: Fetch all workspaces.
      responses:
        "200":
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    slug:
                      type: string
                    domain:
                      anyOf:
                        - type: string
                        - type: "null"
                    createdAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                    updatedAt:
                      type: string
                      format: date-time
                      pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  required:
                    - id
                    - name
                    - slug
                    - domain
                    - createdAt
                    - updatedAt
                  additionalProperties: false
      security:
        - bearerAuth: []
    post:
      summary: Create workspace
      description: Create a workspace.
      responses:
        "201":
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  slug:
                    type: string
                  domain:
                    anyOf:
                      - type: string
                      - type: "null"
                  createdAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                  updatedAt:
                    type: string
                    format: date-time
                    pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
                required:
                  - id
                  - name
                  - slug
                  - domain
                  - createdAt
                  - updatedAt
                additionalProperties: false
        "409":
          $ref: "#/components/responses/Error"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
              required:
                - name
              additionalProperties: false
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    ErrorResponse:
      type: object
      properties:
        error:
          type: object
          properties:
            message:
              type: string
            values:
              type: object
              additionalProperties: {}
          required:
            - message
            - values
          additionalProperties: false
      required:
        - error
      additionalProperties: false
  responses:
    Error:
      description: Error response
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
